<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <!-- 渲染优化 -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    <meta http-equiv="x-dns-prefetch-control" content="on" />
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//example.com">
    
    <title>your blog name</title>
    <link rel="stylesheet" href="/assets/mdui/css/mdui.min.css">
    <script async src="/assets/mdui/js/mdui.min.js"></script>
    <link rel="stylesheet" href="/assets/theme.css">
    <!--custom--><link rel="stylesheet" href="/custom.css">
    <!--highlight-->
    <link rel="stylesheet" href="/assets/github.min.css">
    <script async src="/assets/highlight.min.js"></script>
    <script async src="/assets/highlightjs-line-numbers.min.js"></script>
    <script async src="/assets/highlightjs-copy-button.min.js"></script>
    <!--highlight end-->
    <!-- markdown katex-->
    <link rel="stylesheet" href="/assets/markdown.css">
    <script async src="/assets/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
    <script async src="/assets/katex.min.js"></script>
    <!-- markdown katex end-->
    <link rel="shortcut icon" href="/img/avatar.webp">
    <script async src='/assets/Valine.min.js'></script>
    <script async src='/assets/pjax.js'></script>
    <script async src='/assets/bundle.js'></script>
</head>
<div class="mdui-progress" id='loading-progress' style="position: fixed;top:0;z-index: 999999;"><div class="mdui-progress-indeterminate"></div></div>
<div id="theme_css"></div>
<body class="mdui-appbar-with-toolbar mdui-theme-accent-blue">
    <div class="mdui-appbar mdui-appbar-fixed mdui-appbar-scroll-hide mdui-appbar-inset mdui-color-white mdui-shadow-1">
    <div class="mdui-toolbar mdui-color-theme">
        <a href="javascript:drawer.toggle()" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon material-icons">menu</i></a>
        <a href="/" class="mdui-typo-title">your blog name</a>
        <div class="mdui-toolbar-spacer"></div>
        <div class="mdui-row" id='toolbar-menu'>
            <a href="/tags/" class="mdui-col mdui-text-color-black">TAGS</a>
            <a href="/categories/" class="mdui-col mdui-text-color-black">CATEGORIES</a>
            <a href="/tools/" class="mdui-col mdui-text-color-black">TOOLS</a>
            <a href="/about/" class="mdui-col mdui-text-color-black">ABOUT</a>
            <a href="/links/" class="mdui-col mdui-text-color-black">LINKS</a>
        </div><script>if(document.body.clientWidth<1078)document.getElementById('toolbar-menu').hidden=1;</script>
        <button onclick="music_on();document.getElementById('music_button').hidden=1" id='music_button' class="mdui-btn mdui-btn-icon mdui-ripple" mdui-tooltip="{content: '是否来点音乐?'}">
            <i class="mdui-icon material-icons">queue_music</i>
        </button>
        <button class="mdui-btn mdui-btn-icon mdui-ripple" mdui-tooltip="{content: '切换主题'}" mdui-menu="{target: '#theme_menu',align: 'right',covered: false}">
            <i class="mdui-icon material-icons">view_quilt</i>
        </button>
        <ul class="mdui-menu" id="theme_menu" style="width: fit-content;">
            <li class="mdui-menu-item" mdui-tooltip="{content: '开启/关闭 pjax'}"><a onclick="pjax_on()" id='pjax_button'>pjax_on</a></li>
            <li class="mdui-menu-item" mdui-tooltip="{content: '回归原本'}"><a href="javascript:theme('day')">日间模式</a></li>
            <li class="mdui-menu-item" mdui-tooltip="{content: '晚上要保护眼睛哦'}"><a href="javascript:theme('night')">夜间模式</a></li>
            <li class="mdui-menu-item" mdui-tooltip="{content: '满足你的少女心吧'}"><a href="javascript:theme('pink')">粉红</a></li>
            <li class="mdui-menu-item" mdui-tooltip="{content: '没什么,就是淡蓝色'}"><a href="javascript:theme('blue')">粉蓝</a></li>
        </ul>
        <button onclick="search_dialog.open();document.getElementById('search_input').focus();" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon material-icons">search</i></button>
        <button id='toc_button' class="mdui-btn mdui-btn-icon mdui-ripple" onclick="toc_drawer.toggle();" hidden>
            <i class="mdui-icon material-icons">format_list_numbered</i>
        </button>
    </div>
</div>

<!-- 下面为目录部分,不要随意删除,上面随意-->
<div class="mdui-drawer mdui-drawer-close mdui-drawer-full-height mdui-drawer-right mdui-shadow-2" id="toc_drawer" hidden>
    <ul class="mdui-list" id="toc"></ul>
</div>
    <div class="mdui-container">
        <div id='page_typ' hidden>article</div>
        <div class="mdui-card article">
            <div class="mdui-card-media">
                <img data-src="/img/12.webp" height="300px" style="object-fit: cover;">
                <div class="mdui-card-media-covered">
                    <div class="mdui-card-primary">
                        <div class="mdui-card-primary-title">readme</div>
                    </div>
                </div>
            </div>
            <div class="mdui-card-header">
                <img class="mdui-card-header-avatar" src="/img/avatar.webp">
                <div class="mdui-card-header-title">zcmimi</div>
                <div class="mdui-card-header-subtitle">2020.04.29</div>
                <div class="mdui-card-menu">
                    <span id="readme" class="leancloud_visitors" data-flag-title="Your Article Title" hidden>
                        <em class="post-meta-item-text">阅读量</em>
                        <i class="leancloud-visitors-count">1000000</i>
                    </span>
                    <button class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: '分享'}" mdui-menu="{target: '#share_menu',align: 'right',covered: false}">
                        <i class="mdui-icon material-icons">share</i>
                    </button>
                    <ul class="mdui-menu" id="share_menu" style="width: fit-content;">
                        <li class="mdui-menu-item mdui-ripple">
                            <a id="share_weibo" href="http://service.weibo.com/share/share.php?appkey=&title=readme&url=_url_&pic=_avatar_&searchPic=false&style=simple" target="_blank" class="mdui-ripple">
                                <img class="mdui-menu-item-icon mdui-icon" src="/assets/icon/weibo.ico">分享到微博
                            </a>
                        </li>
                        <li class="mdui-menu-item mdui-ripple">
                            <a id="share_qq" href="http://connect.qq.com/widget/shareqq/index.html?site=your blog name&title=readme&summary=&pics=_avatar_&url=_url_" target="_blank" class="mdui-ripple">
                                <img class="mdui-menu-item-icon mdui-icon" src="/assets/icon/qq.svg">分享到QQ
                            </a>
                        </li>
                        <li class="mdui-menu-item mdui-ripple">
                            <a id="share_twitter" href="https://twitter.com/intent/tweet?text=readme&url=_url_&via=zcmimi" target="_blank" class="mdui-ripple">
                                <img class="mdui-menu-item-icon mdui-icon" src="/assets/icon/twitter.svg">分享到Twitter
                            </a>
                        </li>
                        <li class="mdui-menu-item mdui-ripple">
                            <a id="share_copy" href="javascript:copylink();"class="mdui-ripple">
                                <i class="mdui-menu-item-icon mdui-icon material-icons">link</i>复制链接
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="mdui-card-content">
                
                <textarea id="md_source" hidden>## 简介

本博客生成器基于`python`,使用若干`pip`包,兼容`hexo`,`jekyll`等博客生成器

使用`markdown`,支持`LaTeX`

建议先了解下`markdown`和`yaml`等语法

## 依赖

### 必须

请先安装`python-frontmatter`

```bash
pip install frontmatter
```

建议先将`pip`换为国内源

### 可选功能

1. `htmlmin`

   用于压缩网页源代码

2. `pypinyin`

   用于生成博文的拼音地址

3. `PyRSS2Gen`

   用于生成博客的`rss`

## 配置文件

`config.yml`

```yaml
site_name: "your blog name" # 站点名称
site_domain: "example.com" # 域名
site_rt: "" # 网站根目录位置
# 没有特殊情况请填 ""
# 比如你因为某些特殊原因,没法直接在域名根目录部署网站,位置变成了 example.com/web
#   那么:
#   site_domain: example.com
#   site_rt: "/web"
#   本地调试时请 site_rt: ""

site_icon: /img/avatar.webp # 博客图标图片地址
assets_rt: 
# 如果有cdn提高assets文件夹的加载速度,请填入地址
# 否则留空

avatar: /img/avatar.webp # 博客头像,默认头像地址
author: "your name" # 默认作者
theme: clean # 自带主题两种风格(beauty|clean)

article_address: number # 文章地址(number|pinyin)
# 若选择pinyin,请先pip install pypinyin

# 首页
page_articles: 10 # 首页每页文章数
preview_len: 100  # 首页文章预览字数

randomimg_type: folder # 随机图片地址类型(folder | list)
randomimg_list:        # 随机图片地址列表
# - url
randomimg_path: /img # 随机图片文件夹地址
randomimg_tot: 33    # 图片总数
randomimg_suf: webp  # 图片文件后缀名

htmlmin: False # 是否压缩源代码
# 若填1,请先pip install htmlmin

comment: False # 是否开启评论
comment_typ: valine # 目前仅支持valine
# Valine评论(请参考https://valine.js.org/configuration.html)
valine_appid: <your appid>
valine_appkey: <your appkey>
valine_placeholder: 来快活啊 # 提示语

pjax: False # 是否默认开启pjax

# 音乐播放器(使用MetingJS)
music_server: netease  # 服务器
music_id: 765727960    # 歌单id
music_order: random    # 随机/顺序
music_theme: '#f7a4b9' # 颜色
# 详见https://github.com/metowolf/MetingJS

baidu_push: True # 百度推送
baidu_push_url: http://data.zz.baidu.com/urls?site=<your site url>&token=<your token> #百度推送接口调用地址

rss: False # 生成rss(/atom.xml)
           # 请先pip install PyRSS2Gen

repo: git@github.com:zcmimi/blog.git # 部署仓库地址
```



## 开始写作

### 新建文章: 

`python blog.py n/new xxxx`

将会在`source/_posts`文件夹创建`xxxx.md`

### 新建页面

`python blog.py np/newpage xxxx`

将会在`source/_pages`文件夹创建`xxxx.md`

### 预览

`python blog.py d/deploy`

---

### front-matter

使用`front-matter`记录文章信息

```yaml
---
title: {title} # 文章标题
date:  {date}  # 创建日期
author:        # 文章作者
               # (不填默认为配置文件中的作者)
               
avatar:        # 文章作者头像
               # (不填默认为配置文件中的头像)
               
tags:          # 文章标签
# - ***

categories:    # 文章所属分类
# - [***,***]

thumbnail:     # 文章缩略图
top: 0         # 首页置顶优先级
               # 0为关闭置顶
               # >0,越大优先级越高
               
comment: 1     # 开启/关闭评论
html:          # 在文章前加入html代码
---

你的文章
```

注意,分类使用方法:

```yaml
categories:
- [Diary, PlayStation]
- [Diary, Games]
- [Life]
```

此时这篇文章同时包括三个分类： `PlayStation` 和 `Games` 分别都是父分类 `Diary` 的子分类，同时 `Life` 是一个没有子分类的分类。

### 内容

使用`markdown`+`latex`

行内公式: `$...$`,$E=mc^2$

行外公式: `$$...$$`
$$
E=mc^2
$$

### 文章页面

生成的文件在`/posts/xxx`

支持标签和分类

如需在文章中引用图片或文件,请在`source/posts/`文件夹中新建一个以该篇文章标题命名的文件夹,放入文件即可直接引用,如`![233.png]`

### 其他页面

生成的文件在`/xxx`

支持标签,不支持分类,不会在首页显示

请不要新建叫做`links`的页面,会被友链页面覆盖

## 资源文件夹

在`source`文件夹中,除了`_posts`和`_pages`两个文件夹,其他文件夹会被复制到生成的文件夹的根目录

比如新建`source/img/`,就会被博客根目录,可以通过`/img/`访问

## 部署

首先渲染博客,`python blog.py`生成的博客文件在`web`文件夹中

`python blog.py s/server`可以预览生成的文件

您将它可以上传到您喜欢的地方

推荐部署到: 

1. `github pages`

2. `coding pages`

3. `netlify`

4. 腾讯云`cos`

5. `gitlab pages`

6. 用`rsync`或其他工具推送到您的服务器

---

目前支持`git`的方式部署,如部署到`github pages`(推荐)

请先填好`config.yml`中的`repo`

运行`python blog.py d`以部署博客

---

其他方式请自行上传`web`文件夹

## 自定义

### 自定义顶部应用栏

请修改`layout/appbar.html`

### 自定义侧边栏

请编辑`source/drawer.yml`

如果你不满意自带的模板,请删除`source/drawer.yml`,

新建`source/drawer.html`,自行编辑

### 自定义友情链接

修改`source/_pages/links.yml`

使用`yaml`语法

以我的友链为例子: 

```yaml
comment: 1 # 是否开启评论
info: # 添加友链部分下方的html代码
Friends: # 此栏目标题
  - name: zcmimi                 # 名称
    url: https://blog.zcmimi.top # 指向地址
    avatar: /img/avatar.webp     # 头像
    content: 一只可爱的菜鸡        # 描述
    background-color: "#ffe9f0"  # 卡片背景颜色
  # 下面以此类推

Websites: # 此栏目标题
  - name: Luogu
    url: https://www.luogu.com.cn
    avatar: /assets/icon/luogu.png
    content: 计算机科学教育新生态
    background-color: "#89aaff"
# 以此类推
```

### 添加自定义代码

1. 自定义`css`
   
   修改`assets/custom.css`,它会在源代码`head`部分被引入

2. 自定义`html`
   
   修改`layout/custom.html`,这部分代码会添加到源代码末尾(`</html>`的前面)

</textarea>
                <div id="md_out" class="markdown-body"><p>文章加载中...</p><center><div class="mdui-spinner mdui-spinner-colorful"></div></center></div>
            </div>
        </div>
        <div class="mdui-card" style="margin-top: 50px;">
            <div class="mdui-card-content">
                评论已关闭
            </div>
        </div>
    </div>
    <div class="mdui-bottom-nav"></div>
</body>
<!--top-->
<button class="mdui-fab mdui-fab-mini mdui-ripple mdui-fab-fixed mdui-fab-hide" id="totop" onclick="totop()" style="z-index: 99999;">
    <i class="mdui-icon material-icons">keyboard_arrow_up</i>
</button>
<!--top end-->
<div class="mdui-dialog" id="search_dialog">
    <div class="mdui-dialog-title">Search</div>
    <div class="mdui-dialog-content">
        <div class="mdui-textfield">
            <i class="mdui-icon material-icons">search</i>
            <input id="search_input" class="mdui-textfield-input" placeholder="搜索" onchange="search('/assets/data.json')">
        </div>
        <div id="search_result" class="mdui-list"></div>
    </div>
    <script defer src="/assets/search.js"></script>
</div>

<div class="mdui-drawer mdui-drawer-close mdui-drawer-full-height mdui-shadow-2" id="drawer">
    <ul class="mdui-list">
        <div class="mdui-list-item mdui-ripple">
            <i class="mdui-list-item-icon mdui-icon material-icons mdui-text mdui-text-color-black">home</i>
            <a href="/" class="mdui-list-item-content">your blog name</a>
        </div>
        <a href="/about">
            <img class='avatar mdui-shadow-1' src="/img/avatar.webp" width="90%" height="90%" style="margin: 10px;"></img>
        </a>
<li class='mdui-subheader'>Pages</li>
<li class="mdui-list-item mdui-ripple">
    <i class='mdui-list-item-icon mdui-icon material-icons mdui-text-color-black'>bookmark_border</i><a href="/tags" class="mdui-list-item-content">标签云</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <i class='mdui-list-item-icon mdui-icon material-icons mdui-text-color-black'>book</i><a href="/categories" class="mdui-list-item-content">分类</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <i class='mdui-list-item-icon mdui-icon material-icons mdui-text-color-black'>link</i><a href="/links" class="mdui-list-item-content">友链</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <i class='mdui-list-item-icon mdui-icon material-icons mdui-text-color-black'>build</i><a href="/tools" class="mdui-list-item-content">工具集</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <i class='mdui-list-item-icon mdui-icon material-icons mdui-text-color-black'>person</i><a href="/about" class="mdui-list-item-content">关于我</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <i class='mdui-list-item-icon mdui-icon material-icons mdui-text-color-black'>bookmark_border</i><a href="/atom.xml" class="mdui-list-item-content">订阅</a>
</li>
<li class='mdui-subheader'>Catch me</li>
<li class="mdui-list-item mdui-ripple">
    <i class='mdui-list-item-icon mdui-icon material-icons mdui-text-color-blue'>email</i><a href="None" class="mdui-list-item-content">给我写信</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <img class='mdui-list-item-icon' src="/assets/icon/telegram-blue.svg"><a href="https://t.me/" class="mdui-list-item-content">电报</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <img class='mdui-list-item-icon' src="/assets/icon/twitter.svg"><a href="https://twitter.com/" class="mdui-list-item-content">推特</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <img class='mdui-list-item-icon' src="/assets/icon/bilibili.ico"><a href="https://space.bilibili.com/" class="mdui-list-item-content">哔哩哔哩</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <img class='mdui-list-item-icon' src="/assets/icon/cloudmusic.ico"><a href="https://music.163.com/" class="mdui-list-item-content">网易云音乐</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <img class='mdui-list-item-icon' src="/assets/icon/zhihu.ico"><a href="https://www.zhihu.com/" class="mdui-list-item-content">知乎</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <img class='mdui-list-item-icon' src="/assets/icon/luogu.png"><a href="https://luogu.com.cn/" class="mdui-list-item-content">洛谷</a>
</li>

<li class="mdui-list-item mdui-ripple">
    <img class='mdui-list-item-icon' src="/assets/icon/github.svg"><a href="https://github.com/" class="mdui-list-item-content">Github</a>
</li>


<div id='musiclist'></div>
<script>
function music_on(){
    pjax_on(1);
    var x=document.getElementById('musiclist');
    x.innerHTML="";
    mdui.snackbar({message:'歌单加载中,请稍等2-10s'});
    var hl=document.createElement('link');
    hl.href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css";
    hl.type='text/css';
    hl.rel='stylesheet';
    x.appendChild(hl);
    hl=document.createElement('script');
    hl.src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js";
    x.appendChild(hl);
    hl=document.createElement('script');
    hl.src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js";
    x.appendChild(hl);

    hl=document.createElement('meting-js');
    hl.setAttribute('id','765727960');
    hl.setAttribute('fixed','true');
    hl.setAttribute('server','netease');
    hl.setAttribute('type','playlist');
    hl.setAttribute('order','random');
    hl.setAttribute('theme','#f7a4b9');
    x.appendChild(hl);
}
</script>
<style>.aplayer,.aplayer-body,.aplayer-pic,.aplayer-button{z-index: 9999999 !important;}</style>

</html>